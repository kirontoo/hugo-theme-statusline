{{ define "sidebar" }}

<div class="sidebar">
	<div class="bracket sidebar-title">
		<div class="bracket-left"></div>
			{{ .Site.Title }}
		<div class="bracket-right"></div>
	</div>

	<!-- photo -->

	<!-- profile -->
	<div class="bracket sidebar-profile">
		<div class="bracket-left"></div>
			<ul>
				{{ with $.Site.Params.Profile.occupation }}
					<li class="capitalize" id="profile-occupation">{{ . }}</li>
				{{ end }}

				<div class="sidebar-profile-about">
					{{ with $.Site.Params.Profile.name }}
					<li class="capitalize"><i class="far fa-user-circle"></i>{{ . }}</li>
					{{ end }}
					{{ with $.Site.Params.Profile.location }}
					<li class="capitalize"><i class="far fa-dot-circle"></i>{{ . }}</li>
					{{ end }}
					{{ with $.Site.Params.Profile.email }}
					<li><a href="mailto:{{ . }}"><i class="fas fa-envelope"></i>{{ . }}</a></li>
					{{ end }}
					{{ with $.Site.Params.Profile.website }}
					<li><a href="{{ . }}" target="_blank"><i class="fas fa-link"></i>{{ . }}</a></li>
					{{ else }}
						{{ $url := urls.Parse $.Site.BaseURL }}
						<li><a href="{{ $.Site.BaseURL }}"><i class="fas fa-link"></i>{{ $url.Host }}</a></li>
					{{ end }}
						<li id="profile-bio">{{ $.Site.Params.Profile.bio | truncate 200 }}</li>
				</div>

					{{ partial "components/social-links.html" . }}

			</ul>
		<div class="bracket-right"></div>
	</div>

	<!-- taxonomies -->
	{{ if .Site.Taxonomies }}
		<div class="taxonomies">
			{{ range $taxonomyName, $taxonomy := .Site.Taxonomies }}
				{{ if $taxonomy }}
					<div class="sidebar-taxonomy {{ $taxonomyName }}">
						<div class="bracket">
							<div class="bracket-left"></div>
								{{ $taxonomyName | upper }}
							<div class="bracket-right"></div>
						</div>
						
						<div class="taxonomy-tags">
							{{ range $key, $value := $taxonomy }}
								{{ $taxonomyStyles := "taxonomy-tag-container" }}
								{{ partial "components/taxonomy-tag" ( dict "taxonomyName" $taxonomyName "styles" $taxonomyStyles "link" $value.Page.RelPermalink "name" $key)}}
							{{ end  }}
						</div>

					</div>
					{{ end }}
			{{ end }}
		</div>
	{{ end }}
</div>

{{ end }}

{{ define "main" }}
<div class="content-container">
	<article class="content">
		{{ partial "components/title" . .Title }}
		<header class="content-info">
			<p class="content-author capitalize">
				{{ if .Params.Author }}
				{{ .Params.Author}}
				{{ else }}
				{{  .Site.Params.Author }}
				{{ end }}
			</p>
			<span class="separator">::</span>
			<p class="content-date">{{ .Date.Format "01-02-2006" }}</p>
		</header>

		{{ if $.Site.Params.enableLastModified }}
			{{ with .Lastmod }}
			<div class="content-info">
				<p>
					Last modified<span class="separator">::</span>
					<p class="content-date">{{ .Format "01-02-2006" }}</p>
				</p>
			</div>
			{{ end }}
		{{ end }}
		<div class="taxonomies">
			<ul>
				{{ with .Params.categories }}
					{{ range $value := . }}
						{{ $link := ( urlize ( printf "categories/%s" . )) | absURL }}
						<li>{{ partial "components/taxonomy-tag" ( dict "taxonomyName" "categories" "link" $link "name" $value)}}</li>
					{{ end }}
				{{ end }}

				{{ with .Params.series }}
					{{ range $value := . }}
						{{ $link := ( urlize ( printf "series/%s" . )) | absURL }}
						<li>{{ partial "components/taxonomy-tag" ( dict "taxonomyName" "series" "link" $link "name" $value)}}</li>
					{{ end }}
				{{ end }}

				{{ with .Params.tags }}
					{{ range $value := . }}
						{{ $link := ( urlize ( printf "tags/%s" . )) | absURL }}
						<li>{{ partial "components/taxonomy-tag" ( dict "taxonomyName" "tags" "link" $link "name" $value)}}</li>
					{{ end }}
				{{ end }}
			</ul>
		</div>
		<hr>

		<section class="single-content">
			{{ .Content | safeHTML }}
		</section>

		<section class="post-navigation">
			<div>
				{{ with .PrevInSection }}
					<a class="previous" href="{{.Permalink}}">
						<i class="fas fa-angle-double-left post-navigation-arrow"></i>
						<span class="post-navigation-title">{{.Title}}</span>
						<i class="fas fa-angle-double-left post-navigation-arrow"></i>
					</a>
				{{ end }}
			</div>

			{{ with .NextInSection }}
				<a class="previous" href="{{.Permalink}}">
					<i class="fas fa-angle-double-right post-navigation-arrow"></i>
					<span class="post-navigation-title">{{.Title}}</span>
					<i class="fas fa-angle-double-right post-navigation-arrow"></i>
				</a>
			{{ end }}
		</section>
	</article>

	{{ if $.Site.Params.enableTOC }}
		<aside>
			{{ block "toc" . }}
			{{ end }}
		</aside>
	{{ end }}
</div>
{{ end }}

{{ define "main" }}
	{{ $dateFormat := $.Site.Params.listDateFormat | default "01-02-2006" }}

	<div class="sidebar-layout">
		<section class="sidebar-layout-main">

			<!-- figure out if pagination is needed -->
			{{ $pages := .Pages.ByDate.Reverse }}
			{{ if $.Site.Params.pagination.enable }}
				{{ $pageNum := $.Site.Params.pagination.itemsPerPage | default 8 }}
				{{ if le $pageNum 2 }}
					{{ $pageNum = 8 }}
				{{ end }}
				{{ $pages = (.Paginator $pageNum).Pages.ByDate.Reverse }}
			{{ end }}

			<header class="list-header">
				{{ partial "components/title" . }}
				<p>{{ .Description }} </p>
			</header>
			<hr>

			<div class="list-group">
				{{ range $pages }}
				<div class="list-item">
					<a href="{{ .Permalink }}" class="bracket capitalize list-item-title">
						<div class="bracket-left"></div>
						{{ partial "functions/get-title" . }}
						<div class="bracket-right"></div>
					</a>

					<div class="bracket list-item-subtitle">
						<div class="bracket-left"></div>
						<p class="list-item-author capitalize">
							{{ if .Params.Author }}
							{{ .Params.Author}}
							{{ else }}
							{{	.Site.Params.Author }}
							{{ end }}
						</p>
						{{ if .Date }}
							<span class="list-item-separator separator">::</span>
							<p class="list-item-date">{{ .Date.Format $dateFormat }}</p>
						{{ end }}
							<span class="list-item-separator separator">::</span>
							<p class="list-item-read-time">{{ .ReadingTime }} mins</p>
						<div class="bracket-right"></div>
					</div>

					<summary class="list-item-content md-content">
						{{ if .Description }}
						{{ .Description }}
						{{ else }}
						{{ if .Summary }}
						{{ .Summary | safeHTML }}
						{{ end }}
						{{ end }}
					</summary>

					<a href="{{ .Permalink }}"class="list-item-read-more"><span>Read More >></span></a>
					<hr>
				</div>
				{{ end }}
			</div>

			{{ if $.Site.Params.pagination.enable }}
				{{ partial "components/pagination" . }}
			{{ end }}
		</section>

		<aside>
			{{ block "sidebar" . }}
			{{ end }}
		</aside>

	</div>
{{ end }}
